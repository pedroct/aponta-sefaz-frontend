# ğŸ—ºï¸ Diagrama Visual: Arquitetura da ExtensÃ£o

## 1ï¸âƒ£ Onde o BotÃ£o Aparece na Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AZURE DEVOPS - Task #1234: "Implementar login"                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Details] [Discussion] [Links] [Attachments]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                                                  â”‚
â”‚ LEFT SIDEBAR    â”‚  CENTRO (Work Item Details)                     â”‚
â”‚                 â”‚                                                  â”‚
â”‚ Fields:         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â€¢ Assigned: ... â”‚  â”‚ ğŸŸ  Apontar Tempo (Group ContribuÃ­do)   â”‚   â”‚
â”‚ â€¢ State: ...    â”‚  â”‚                                          â”‚   â”‚
â”‚ â€¢ Sprint: ...   â”‚  â”‚  â”Œâ”€ Painel Sidebar (MVP) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â€¢ Area: ...     â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
â”‚                 â”‚  â”‚  â”‚  [â• Apontar Tempo]  â† BotÃ£o Aqui    â”‚ â”‚   â”‚
â”‚ RIGHT SIDEBAR   â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
â”‚ (Novo!)         â”‚  â”‚  â”‚  HistÃ³rico de Apontamentos:         â”‚ â”‚   â”‚
â”‚                 â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
â”‚ ğŸ• APONTAR      â”‚  â”‚  â”‚  ğŸ“… 20/01/2026    â±ï¸ 2.5h            â”‚ â”‚   â”‚
â”‚    TEMPO        â”‚  â”‚  â”‚     Desenvolvimento                 â”‚ â”‚   â”‚
â”‚                 â”‚  â”‚  â”‚     "ImplementaÃ§Ã£o do form"         â”‚ â”‚   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
â”‚ â”‚ â• APONTAR  â”‚ â”‚  â”‚  â”‚  ğŸ“… 19/01/2026    â±ï¸ 3.0h            â”‚ â”‚   â”‚
â”‚ â”‚ TEMPO       â”‚ â”‚  â”‚  â”‚     Code Review                     â”‚ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
â”‚                 â”‚  â”‚  â”‚  Total: 10.5 horas                 â”‚ â”‚   â”‚
â”‚ Apontamentos:   â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
â”‚ â€¢ 20/01: 2.5h   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â€¢ 19/01: 3.0h   â”‚  â”‚  [ Aba Info] [Aba 2] [Aba 3]            â”‚   â”‚
â”‚ â€¢ 18/01: 5.0h   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                 â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2ï¸âƒ£ Fluxo de Clique

```
USER CLICA "Apontar Tempo"
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ EVENT: onClick Handler         â”‚
    â”‚ location: Panel Component      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ VSS.getService(Dialog)         â”‚
    â”‚ Get Dialog Service             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ dialogService.openDialog()     â”‚
    â”‚ options:                       â”‚
    â”‚ - title: "Apontar Tempo"       â”‚
    â”‚ - width: 500px                 â”‚
    â”‚ - height: 600px                â”‚
    â”‚ - uri: /pages/dialog/index.htmlâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ DIALOG ABRE (MODAL)            â”‚
    â”‚                                â”‚
    â”‚ [Apontar Tempo]          [X]   â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚                                â”‚
    â”‚ Data: [20/01/2026]             â”‚
    â”‚ DuraÃ§Ã£o: [2.5] horas           â”‚
    â”‚ Atividade: [Desenvolvimento â–¼] â”‚
    â”‚ ComentÃ¡rio: [_______________]  â”‚
    â”‚                                â”‚
    â”‚ [Salvar] [Cancelar]            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    USER PREENCHE FORMULÃRIO
         â†“
    USER CLICA "Salvar"
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /api/v1/apontamentos      â”‚
    â”‚ payload:                       â”‚
    â”‚ {                              â”‚
    â”‚   work_item_id: 1234,          â”‚
    â”‚   project_id: "DEV",           â”‚
    â”‚   data_apontamento: "20/01...", â”‚
    â”‚   duracao_horas: 2.5,          â”‚
    â”‚   id_atividade: "dev-001",     â”‚
    â”‚   comentario: "...",           â”‚
    â”‚   usuario_id: "user-123",      â”‚
    â”‚   usuario_nome: "JoÃ£o"         â”‚
    â”‚ }                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ BACKEND PROCESSA               â”‚
    â”‚ Valida dados                   â”‚
    â”‚ Salva em DB                    â”‚
    â”‚ Retorna 200 OK                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ DIALOG FECHA AUTOMATICAMENTE   â”‚
    â”‚ callback: close()              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PAINEL RECARREGA               â”‚
    â”‚ fetch /api/v1/apontamentos/... â”‚
    â”‚ Lista atualiza com novo item   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    USUÃRIO VÃŠ APONTAMENTO NOVO
    NA LISTA DO PAINEL
```

---

## 3ï¸âƒ£ Arquitetura em Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AZURE DEVOPS UI                          â”‚
â”‚  (Task/Bug Page com Painel Lateral)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  VSS SDK v14  â”‚
                    â”‚  JavaScript   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PANEL COMPONENT  â”‚              â”‚  DIALOG COMPONENT  â”‚
â”‚  (React)          â”‚              â”‚  (React/HTML)      â”‚
â”‚                   â”‚              â”‚                    â”‚
â”‚ - useEffect()     â”‚              â”‚ - Form fields      â”‚
â”‚ - fetch data      â”‚              â”‚ - Submit handler   â”‚
â”‚ - setState()      â”‚              â”‚ - Validation       â”‚
â”‚ - Render UI       â”‚              â”‚ - POST request     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  HTTP API    â”‚
                     â”‚  REST/JSON   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND (FastAPI)   â”‚              â”‚  DATABASE           â”‚
â”‚  staging-aponta...   â”‚              â”‚  PostgreSQL         â”‚
â”‚                      â”‚              â”‚  api_aponta_staging â”‚
â”‚ POST /apontamentos   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                     â”‚
â”‚ GET /apontamentos    â”‚   SQL Query  â”‚ â€¢ apontamentos      â”‚
â”‚ GET /atividades      â”‚              â”‚ â€¢ atividades        â”‚
â”‚ ValidaÃ§Ã£o            â”‚              â”‚ â€¢ sync_queue        â”‚
â”‚ SincronizaÃ§Ã£o        â”‚              â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4ï¸âƒ£ Estrutura de Arquivos

```
extension/
â”‚
â”œâ”€ ğŸ“„ vss-extension.json         â† MANIFEST (DeclaraÃ§Ãµes)
â”‚  â””â”€ Declara contribuiÃ§Ãµes (painel, dialog, menu)
â”‚
â”œâ”€ ğŸ“ pages/
â”‚  â”‚
â”‚  â”œâ”€ ğŸ“ panel/                   â† PAINEL LATERAL
â”‚  â”‚  â”œâ”€ index.html               â† Entry point (VSS SDK)
â”‚  â”‚  â”œâ”€ App.jsx                  â† Component React
â”‚  â”‚  â”œâ”€ styles.css               â† Styling
â”‚  â”‚  â””â”€ utils.js                 â† Helper functions
â”‚  â”‚
â”‚  â””â”€ ğŸ“ dialog/                  â† DIALOG MODAL
â”‚     â”œâ”€ index.html               â† Entry point
â”‚     â””â”€ styles.css               â† Styling (inline)
â”‚
â”œâ”€ ğŸ“ images/
â”‚  â””â”€ icon-64.png                 â† Ãcone da extensÃ£o
â”‚
â””â”€ ğŸ“ context-menu/               â† MENU (Futuro)
   â””â”€ index.html                  â† Action provider
```

---

## 5ï¸âƒ£ Fluxo de Dados (Completo)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COMPONENTE REACT: ApontarTempoPanel                           â”‚
â”‚                                                                â”‚
â”‚  Estado:                                                       â”‚
â”‚  â€¢ workItem: { id, title, projectId, organizationName, ... }  â”‚
â”‚  â€¢ apontamentos: [ {...}, {...}, ... ]                        â”‚
â”‚  â€¢ loading: boolean                                           â”‚
â”‚  â€¢ error: string | null                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                              â”‚
              â”‚ InicializaÃ§Ã£o               â”‚ Clique BotÃ£o
              â†“                              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ useEffect(() => {    â”‚    â”‚ handleApontarTempo() { â”‚
    â”‚   VSS.ready(() => {  â”‚    â”‚   dialogService.       â”‚
    â”‚     const ctx = ...  â”‚    â”‚   openDialog({...})    â”‚
    â”‚     setWorkItem(...) â”‚    â”‚ }                      â”‚
    â”‚     fetchApontam...  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚   })                 â”‚              â”‚
    â”‚ })                   â”‚              â”‚ Dialog abre
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â†“
              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚ HTML Dialog Form        â”‚
              â”‚              â”‚ <input> <select> ...    â”‚
              â”‚              â”‚ <button>Salvar</button> â”‚
              â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                      â”‚
              â”‚                      â”‚ Form Submit
              â”‚                      â†“
              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚ POST /apontamentos      â”‚
              â”‚              â”‚ {                       â”‚
              â”‚              â”‚   work_item_id: 1234,   â”‚
              â”‚              â”‚   duracao_horas: 2.5,   â”‚
              â”‚              â”‚   ...                   â”‚
              â”‚              â”‚ }                       â”‚
              â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                      â”‚
              â”‚                      â”‚ Backend Saves
              â”‚                      â†“
              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚ Dialog fecha            â”‚
              â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ fetchApontamentos()        â”‚
                â”‚ GET /apontamentos/wi/1234  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ setApontamentos(newData)   â”‚
                â”‚ RE-RENDER Component        â”‚
                â”‚ Nova lista aparece!        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6ï¸âƒ£ Ciclo de Vida do Componente

```
1. PÃGINA CARREGA
   â””â”€ Azure DevOps carrega painel
   
2. COMPONENT MONTA
   â””â”€ useEffect hook executa
   
3. VSS.ready() EXECUTA
   â””â”€ VSS SDK inicializado
   
4. FETCH CONTEXTO
   â””â”€ VSS.getWebContext()
   â””â”€ VSS.getContribution()
   
5. ESTADO ATUALIZADO
   â””â”€ setWorkItem()
   â””â”€ setApontamentos()
   
6. RENDER PAINEL
   â””â”€ Mostra histÃ³rico
   â””â”€ BotÃ£o "Apontar Tempo"
   
7. USER INTERAGE
   â””â”€ Clica botÃ£o
   â””â”€ Dialog abre
   â””â”€ Preenche form
   â””â”€ Clica Salvar
   
8. POST ENVIADO
   â””â”€ Dados para backend
   
9. DIALOG FECHA
   â””â”€ Callback executado
   
10. PAINEL RECARREGA
    â””â”€ Novo apontamento visÃ­vel
```

---

## 7ï¸âƒ£ Mapeamento de Responsabilidades

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 AZURE DEVOPS                                â”‚
â”‚  Responsabilidades:                                         â”‚
â”‚  âœ… Fornecer contexto (org, project, user)                  â”‚
â”‚  âœ… Redirecionar a URL do painel/dialog                     â”‚
â”‚  âœ… Gerenciar autenticaÃ§Ã£o (token)                          â”‚
â”‚  âœ… Renderizar painel na pÃ¡gina                             â”‚
â”‚  âœ… Fornecer VSS SDK                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEU CÃ“DIGO (Extension)                         â”‚
â”‚  Responsabilidades:                                         â”‚
â”‚  âœ… Inicializar VSS SDK                                     â”‚
â”‚  âœ… Ler contexto do Azure                                   â”‚
â”‚  âœ… Renderizar UI (React/HTML)                              â”‚
â”‚  âœ… Gerenciar estado do componente                          â”‚
â”‚  âœ… Abrir dialogs                                           â”‚
â”‚  âœ… Buscar dados do backend                                 â”‚
â”‚  âœ… Enviar dados para backend (POST)                        â”‚
â”‚  âœ… Validar formulÃ¡rio                                      â”‚
â”‚  âœ… Atualizar UI apÃ³s resposta                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          SEU BACKEND (staging-aponta)                       â”‚
â”‚  Responsabilidades:                                         â”‚
â”‚  âœ… Validar payload                                         â”‚
â”‚  âœ… Verificar permissÃµes                                    â”‚
â”‚  âœ… Salvar em banco de dados                                â”‚
â”‚  âœ… Retornar confirmaÃ§Ã£o                                    â”‚
â”‚  âœ… Responder GET para listar apontamentos                  â”‚
â”‚  âœ… Sincronizar com Azure DevOps (opcional)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Œ Ponto-Chave

```
O botÃ£o "Apontar Tempo" nÃ£o estÃ¡ sozinho!
Ele Ã© parte de um sistema integrado:

â”Œâ”€ Painel Lateral (Sempre visÃ­vel)
â”‚
â”œâ”€ Dialog Modal (Quando clica)
â”‚
â”œâ”€ Menu de Contexto (Clique direito)
â”‚
â”œâ”€ Backend API (Processa dados)
â”‚
â””â”€ Banco de Dados (Armazena)

TODOS comunicam via VSS SDK + HTTP API
```

---

**Data**: 22 de janeiro de 2026  
**Diagrama Visual**: âœ… Completo
